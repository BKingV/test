import streamlit as st
import pandas as pd

# –î–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞: –¢–ï–ú–ê "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ü–ê–û ¬´–ú–ú–ö¬ª"
data = {
    "–ü–æ–¥—Ç–µ–º–∞": [
        "–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã", "–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã", "–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã",
        "–ê–≥–ª–æ–∫–æ–∫—Å–æ–¥–æ–º–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–ê–≥–ª–æ–∫–æ–∫—Å–æ–¥–æ–º–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ",
        "–°—Ç–∞–ª–µ–ø–ª–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–°—Ç–∞–ª–µ–ø–ª–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
    ],
    "–í–æ–ø—Ä–æ—Å": [
        "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–¥–µ–ª—ã –ü–ê–û ¬´–ú–ú–ö¬ª?",
        "–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –ü–ê–û ¬´–ú–ú–ö¬ª?",
        "–ß—É–≥—É–Ω ‚Äì —ç—Ç–æ?",
        "–ü—Ä–æ—Ü–µ—Å—Å, –ª–µ–∂–∞—â–∏–π –≤ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∫–æ–∫—Å–∞?",
        "–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è —Ü–µ—Ö–æ–≤ –∫–æ–∫—Å–æ—Ö–∏–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞?",
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—á–µ–π –≤ —Å–æ—Å—Ç–∞–≤–µ –≠–°–ü–¶?",
        "–ö–∞–∫–∏–º –≥–∞–∑–æ–º –≤–µ–¥–µ—Ç—Å—è –ø—Ä–æ–¥—É–≤–∫–∞ –º–µ—Ç–∞–ª–ª–∞ –≤ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–µ?"
    ],
    "–û—Ç–≤–µ—Ç—ã": [
        ["–ì–æ—Ä–Ω–æ-–æ–±–æ–≥–∞—Ç–∏—Ç–µ–ª—å–Ω–æ–µ", "–ö–æ–∫—Å–æ—Ö–∏–º–∏—á–µ—Å–∫–æ–µ", "–ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–µ", "–ü—Ä–æ–∫–∞—Ç–Ω–æ–µ"],
        ["–ß—É–≥—É–Ω", "–°—Ç–∞–ª—å", "–ñ–µ–ª–µ–∑–Ω–∞—è —Ä—É–¥–∞", "–û–∫–∞—Ç—ã—à–∏"],
        ["<2.14% —É–≥–ª–µ—Ä–æ–¥–∞", ">2.14% —É–≥–ª–µ—Ä–æ–¥–∞", "<2.14% –∫–∏—Å–ª–æ—Ä–æ–¥–∞", ">2.14% –∫–∏—Å–ª–æ—Ä–æ–¥–∞"],
        ["–°–∂–∏–≥–∞–Ω–∏–µ —É–≥–ª—è", "–ù–∞–≥—Ä–µ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –≤–æ–∑–¥—É—Ö–∞", "–ù–∞–≥—Ä–µ–≤–∞–Ω–∏–µ —É–≥–ª—è"],
        ["–ö–æ–∫—Å", "–ö–∞–º–µ–Ω–Ω–æ—É–≥–æ–ª—å–Ω—ã–π –ø–µ–∫", "–°–µ—Ä–∞"],
        ["2 –ø–µ—á–∏ –∏ 1 –∞–≥—Ä–µ–≥–∞—Ç", "3 –ø–µ—á–∏", "4 –ø–µ—á–∏"],
        ["–ö–∏—Å–ª–æ—Ä–æ–¥", "–ê–∑–æ—Ç", "–í–æ–¥–æ—Ä–æ–¥"]
    ],
    "–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç": [
        "–ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–µ", "–ß—É–≥—É–Ω", ">2.14% —É–≥–ª–µ—Ä–æ–¥–∞",
        "–ù–∞–≥—Ä–µ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –≤–æ–∑–¥—É—Ö–∞", "–ö–æ–∫—Å",
        "2 –ø–µ—á–∏ –∏ 1 –∞–≥—Ä–µ–≥–∞—Ç", "–ö–∏—Å–ª–æ—Ä–æ–¥"
    ]
}

# –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ DataFrame
df = pd.DataFrame(data)

# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Streamlit
st.title("üìö –¢–µ—Å—Ç –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ü–ê–û ¬´–ú–ú–ö¬ª")

# –í—ã–±–æ—Ä –ø–æ–¥—Ç–µ–º—ã
selected_subtopic = st.selectbox("–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ç–µ–º—É:", df["–ü–æ–¥—Ç–µ–º–∞"].unique())

# –§–∏–ª—å—Ç—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–æ–¥—Ç–µ–º–µ
filtered_questions = df[df["–ü–æ–¥—Ç–µ–º–∞"] == selected_subtopic]

# –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞
if st.button("–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç"):
    st.write(f"‚úÖ –í—ã –≤—ã–±—Ä–∞–ª–∏ –ø–æ–¥—Ç–µ–º—É: **{selected_subtopic}**")
    
    score = 0  # –°—á–µ—Ç—á–∏–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

    for _, row in filtered_questions.iterrows():
        user_answer = st.radio(row["–í–æ–ø—Ä–æ—Å"], row["–û—Ç–≤–µ—Ç—ã"])
        if user_answer == row["–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"]:
            score += 1

    st.write(f"üéØ –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: **{score}/{len(filtered_questions)}**")
